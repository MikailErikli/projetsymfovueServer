{% extends 'layouts/base.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col-md-8 mx-auto">

            <article class="pin bg-white rounded shadow">

              <a>  <img src="{{ vich_uploader_asset(pin) }}" alt="{{ pin.title }}"   style="
                background: black;
                padding: 1px;
                border-top-left-radius: 5px 5px;
                 border-top-right-radius: 5px 5px;
                width: 100%;
                height: 600px;
                box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;"/> </a>

                <br />
                <br />
                <p class="pl-3 "> {{ pin.description }} </p>
                <p class="pl-3 pb-3 text-muted">Submitted by {{ pin.user.fullName }}  {{ pin.createdAt|ago }} </p>
                <div class="pb-3">

                    <a href="{{ path('app_pins_edit', {id: pin.id}) }}" class="btn btn-light">Edit</a> |
                    <a href="#" onclick="event.preventDefault();confirm('tu es sur ?') && document.getElementById('js-pin-delete-form ').submit();" class="btn btn-light">Delete</a> |
                    <a href="{{ path('app_home') }}" class="btn btn-light">Back</a>

                    <form  id="js-pin-delete-form " action="{{ path('app_pins_delete', {id: pin.id}) }}" method="post" style="display: none;">
                        <input type="hidden" name="_method" value="DELETE">


                        <input type="hidden" value="{{ csrf_token('pins_deletion ' ~ pin.id) }}">
                        <input type="submit" value="Delete">
                    </form>


                </div>
            </article>


        </div>

    </div>

{% endblock %}
